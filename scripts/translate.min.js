document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".language-button"),a=localStorage.getItem("selectedLanguage");function t(){let a=localStorage.getItem("selectedLanguage");a||(a="ru",e.forEach(e=>{e.dataset.lang===a?e.disabled=!0:e.disabled=!1})),fetch(`/langs/${a}.json`).then(e=>e.json()).then(e=>{document.querySelectorAll(".translatable").forEach(a=>{const t=a.dataset.translationkey;e.hasOwnProperty(t)&&(a.innerHTML=e[t])})}).catch(e=>{console.error("Error fetching translation file:",e)})}e.forEach(e=>{e.dataset.lang===a?(e.classList.add("active"),e.disabled=!0):e.disabled=!1}),e.forEach(a=>{a.addEventListener("click",()=>{const l=a.dataset.lang;localStorage.setItem("selectedLanguage",l),t(),e.forEach(e=>{e.dataset.lang===l?(e.classList.add("active"),e.disabled=!0):(e.classList.remove("active"),e.disabled=!1)})})}),t()});