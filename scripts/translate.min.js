document.addEventListener("DOMContentLoaded",()=>{const languageButtons=document.querySelectorAll(".language-button");const selectedLanguage=localStorage.getItem("selectedLanguage");languageButtons.forEach(button=>{if(button.dataset.lang===selectedLanguage){button.classList.add("lang-active");button.disabled=true}else{button.disabled=false}});languageButtons.forEach(button=>{button.addEventListener("click",()=>{const selectedLanguage=button.dataset.lang;localStorage.setItem("selectedLanguage",selectedLanguage);translateElements();languageButtons.forEach(button=>{if(button.dataset.lang===selectedLanguage){button.classList.add("lang-active");button.disabled=true}else{button.classList.remove("lang-active");button.disabled=false}})})});function translateElements(){let selectedLanguage=localStorage.getItem("selectedLanguage");if(!selectedLanguage){selectedLanguage="en";languageButtons.forEach(button=>{if(button.dataset.lang===selectedLanguage){button.classList.add("lang-active");button.disabled=true}else{button.classList.remove("lang-active");button.disabled=false}})}fetch(`/langs/${selectedLanguage}.json`).then(response=>response.json()).then(translation=>{const elementsToTranslate=document.querySelectorAll(".translatable");elementsToTranslate.forEach(element=>{const key=element.dataset.translationkey;if(translation.hasOwnProperty(key)){element.innerHTML=translation[key]}})}).catch(error=>{console.error("Error fetching translation file:",error)})}translateElements()});